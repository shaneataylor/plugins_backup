From 8b76225a191c16b5febfae0b5f7d263cda597e28 Mon Sep 17 00:00:00 2001
From: Josh Johnson <jjohnson@webassign.net>
Date: Mon, 19 Dec 2011 15:42:22 -0500
Subject: [PATCH] Changes necessary for building outside of Oxygen

---
 c_i_displaying_notation_watex.xml                  |    2 +-
 .../Customization/fo/attrs/custom.xsl              |   12 ++++
 .../pdf_customization/fop/conf/fop.xconf           |   61 ++++++++++---------
 m_i_reltables.ditamap                              |    2 +-
 ...oosing_between_ebooks_and_printed_textbooks.xml |    2 +-
 t_a_smw_entering_math.xml                          |    2 +-
 6 files changed, 48 insertions(+), 33 deletions(-)

diff --git a/c_i_displaying_notation_watex.xml b/c_i_displaying_notation_watex.xml
index d89c2a2..651f6da 100755
--- a/c_i_displaying_notation_watex.xml
+++ b/c_i_displaying_notation_watex.xml
@@ -173,7 +173,7 @@ are displayed using math mode.</p>
      <stentry>
       <p>3<varname>x</varname>
       </p>
-      <p>&nbsp;</p>
+      <p> </p>
       <p>4<varname>y</varname>
       </p>
      </stentry>
diff --git a/customizations/pdf_customization/Customization/fo/attrs/custom.xsl b/customizations/pdf_customization/Customization/fo/attrs/custom.xsl
index b0aee5b..8685dd5 100755
--- a/customizations/pdf_customization/Customization/fo/attrs/custom.xsl
+++ b/customizations/pdf_customization/Customization/fo/attrs/custom.xsl
@@ -1071,25 +1071,31 @@
         <xsl:attribute name="space-after.minimum">1em</xsl:attribute>
         <xsl:attribute name="space-after.maximum">1em</xsl:attribute>
         <xsl:attribute name="space-after.optimum">1em</xsl:attribute>
+        
     </xsl:attribute-set>
     
     <xsl:attribute-set name="dl__body">
+    
     </xsl:attribute-set>
     
     <xsl:attribute-set name="dl.dlhead">
+    
     </xsl:attribute-set>
     
     <xsl:attribute-set name="dlentry">
+    
     </xsl:attribute-set>
     
     <xsl:attribute-set name="dlentry.dt">
         <xsl:attribute name="relative-align">baseline</xsl:attribute>
         <xsl:attribute name="keep-with-next">always</xsl:attribute>
+        
     </xsl:attribute-set>
     
     <xsl:attribute-set name="dlentry.dt__content">
         <xsl:attribute name="margin">3pt 0pt</xsl:attribute>
         <xsl:attribute name="font-weight">bold</xsl:attribute>
+        
     </xsl:attribute-set>
     
     <xsl:attribute-set name="dlentry.dd">
@@ -1098,25 +1104,31 @@
     
     <xsl:attribute-set name="dlentry.dd__content">
         <xsl:attribute name="margin">3pt 12pt</xsl:attribute>
+        
     </xsl:attribute-set>
     
     <xsl:attribute-set name="dl.dlhead__row">
+    
     </xsl:attribute-set>
     
     <xsl:attribute-set name="dlhead.dthd__cell">
+    
     </xsl:attribute-set>
     
     <xsl:attribute-set name="dlhead.dthd__content">
         <xsl:attribute name="margin">3pt 0pt</xsl:attribute>
         <xsl:attribute name="font-weight">bold</xsl:attribute>
+        
     </xsl:attribute-set>
     
     <xsl:attribute-set name="dlhead.ddhd__cell">
+    
     </xsl:attribute-set>
     
     <xsl:attribute-set name="dlhead.ddhd__content">
         <xsl:attribute name="margin">3pt 12pt</xsl:attribute>
         <xsl:attribute name="font-weight">bold</xsl:attribute>
+        
     </xsl:attribute-set>
     
     
diff --git a/customizations/pdf_customization/fop/conf/fop.xconf b/customizations/pdf_customization/fop/conf/fop.xconf
index 53a5ee0..1ee7ab4 100755
--- a/customizations/pdf_customization/fop/conf/fop.xconf
+++ b/customizations/pdf_customization/fop/conf/fop.xconf
@@ -29,11 +29,14 @@ the location of this file.
 -->
 
 <!-- NOTE: This is the version of the configuration -->
-<fop version="1.0">
-  <accessibility>true</accessibility>
-  <!-- Base URL for resolving relative URLs -->
-  <base>.</base> <!-- NOTE RELATIVE URLS DO NOT RESOLVE WELL CURRENTLY -->
-  <strict-validation>false</strict-validation>
+<fop
+xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+xsi:noNamespaceSchemaLocation=
+"http://svn.apache.org/viewvc/xmlgraphics/fop/trunk/src/foschema/fop-configuration.xsd?view=co">
+  <strict-configuration>true</strict-configuration>
+  
+  <base>./</base>
+  <font-base>fonts/</font-base>
   
   <!-- Source resolution in dpi (dots/pixels per inch) for determining the size of pixels in SVG and bitmap images, default: 72dpi -->
   <source-resolution>72</source-resolution>
@@ -112,58 +115,58 @@ the location of this file.
         -->
         
         <!-- ARIAL -->
-        <font metrics-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Arial.xml" kerning="yes" embed-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Arial.ttf">
+        <font metrics-url="Arial.xml" kerning="yes" embed-url="Arial.ttf">
           <font-triplet name="Arial" style="normal" weight="normal"/>
         </font>
-        <font metrics-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Arial Bold.xml" kerning="yes" embed-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Arial Bold.ttf">
+        <font metrics-url="Arial Bold.xml" kerning="yes" embed-url="Arial Bold.ttf">
           <font-triplet name="Arial" style="normal" weight="bold"/>
         </font>
-        <font metrics-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Arial Italic.xml" kerning="yes" embed-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Arial Italic.ttf">
+        <font metrics-url="Arial Italic.xml" kerning="yes" embed-url="Arial Italic.ttf">
           <font-triplet name="Arial" style="italic" weight="normal"/>
         </font>
-        <font metrics-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Arial Bold Italic.xml" kerning="yes" embed-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Arial Bold Italic.ttf">
+        <font metrics-url="Arial Bold Italic.xml" kerning="yes" embed-url="Arial Bold Italic.ttf">
           <font-triplet name="Arial" style="italic" weight="bold"/>
         </font>
         
         <!-- CONSOLAS -->
-        <font metrics-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Consolas.xml" kerning="yes" embed-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Consolas.ttf">
+        <font metrics-url="Consolas.xml" kerning="yes" embed-url="Consolas.ttf">
           <font-triplet name="Consolas" style="normal" weight="normal"/>
         </font>
-        <font metrics-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Consolas Bold.xml" kerning="yes" embed-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Consolas Bold.ttf">
+        <font metrics-url="Consolas Bold.xml" kerning="yes" embed-url="Consolas Bold.ttf">
           <font-triplet name="Consolas" style="normal" weight="bold"/>
         </font>
-        <font metrics-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Consolas Italic.xml" kerning="yes" embed-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Consolas Italic.ttf">
+        <font metrics-url="Consolas Italic.xml" kerning="yes" embed-url="Consolas Italic.ttf">
           <font-triplet name="Consolas" style="italic" weight="normal"/>
         </font>
-        <font metrics-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Consolas Bold Italic.xml" kerning="yes" embed-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Consolas Bold Italic.ttf">
+        <font metrics-url="Consolas Bold Italic.xml" kerning="yes" embed-url="Consolas Bold Italic.ttf">
           <font-triplet name="Consolas" style="italic" weight="bold"/>
         </font>
         
         <!-- VERDANA -->
-        <font metrics-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Verdana.xml" kerning="yes" embed-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Verdana.ttf">
+        <font metrics-url="Verdana.xml" kerning="yes" embed-url="Verdana.ttf">
           <font-triplet name="Verdana" style="normal" weight="normal"/>
         </font>
-        <font metrics-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Verdana Bold.xml" kerning="yes" embed-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Verdana Bold.ttf">
+        <font metrics-url="Verdana Bold.xml" kerning="yes" embed-url="Verdana Bold.ttf">
           <font-triplet name="Verdana" style="normal" weight="bold"/>
         </font>
-        <font metrics-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Verdana Italic.xml" kerning="yes" embed-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Verdana Italic.ttf">
+        <font metrics-url="Verdana Italic.xml" kerning="yes" embed-url="Verdana Italic.ttf">
           <font-triplet name="Verdana" style="italic" weight="normal"/>
         </font>
-        <font metrics-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Verdana Bold Italic.xml" kerning="yes" embed-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/Verdana Bold Italic.ttf">
+        <font metrics-url="Verdana Bold Italic.xml" kerning="yes" embed-url="Verdana Bold Italic.ttf">
           <font-triplet name="Verdana" style="italic" weight="bold"/>
         </font>
         
         <!-- STIX -->
-        <font metrics-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/stixgeneral-webfont.xml" kerning="yes" embed-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/stixgeneral-webfont.ttf">
+        <font metrics-url="stixgeneral-webfont.xml" kerning="yes" embed-url="stixgeneral-webfont.ttf">
           <font-triplet name="STIXGeneral" style="normal" weight="normal"/>
         </font>
-        <font metrics-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/stixgeneralbol-webfont.xml" kerning="yes" embed-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/stixgeneralbol-webfont.ttf">
+        <font metrics-url="stixgeneralbol-webfont.xml" kerning="yes" embed-url="stixgeneralbol-webfont.ttf">
           <font-triplet name="STIXGeneral" style="normal" weight="bold"/>
         </font>
-        <font metrics-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/stixgeneralitalic-webfont.xml" kerning="yes" embed-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/stixgeneralitalic-webfont.ttf">
+        <font metrics-url="stixgeneralitalic-webfont.xml" kerning="yes" embed-url="stixgeneralitalic-webfont.ttf">
           <font-triplet name="STIXGeneral" style="italic" weight="normal"/>
         </font>
-        <font metrics-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/stixgeneralbolita-webfont.xml" kerning="yes" embed-url="/Applications/oxygen/frameworks/dita/DITA-OT/demo/fo/Customization/fonts/stixgeneralbolita-webfont.ttf">
+        <font metrics-url="stixgeneralbolita-webfont.xml" kerning="yes" embed-url="stixgeneralbolita-webfont.ttf">
           <font-triplet name="STIXGeneral" style="italic" weight="bold"/>
         </font>
         
@@ -195,15 +198,15 @@ the location of this file.
     </renderer>
     -->
 
-    <renderer mime="image/svg+xml">
+<!--     <renderer mime="image/svg+xml">
       <format type="paginated"/>
       <link value="true"/>
       <strokeText value="false"/>
-    </renderer>
+    </renderer> -->
 
-    <renderer mime="application/awt">
+<!--     <renderer mime="application/awt">
     </renderer>
-
+ -->
     <renderer mime="image/png">
       <!--transparent-page-background>true</transparent-page-background-->
     </renderer>
@@ -213,17 +216,17 @@ the location of this file.
       <!--compression>CCITT T.6</compression-->
     </renderer>
 
-    <renderer mime="text/xml">
-    </renderer>
+<!--     <renderer mime="text/xml">
+    </renderer> -->
 
     <!-- RTF does not have a renderer
     <renderer mime="text/rtf">
     </renderer>
     -->
 
-    <renderer mime="text/plain">
+<!--     <renderer mime="text/plain">
       <pageSize columns="80"/>
-    </renderer>
+    </renderer> -->
 
   </renderers>
 
diff --git a/m_i_reltables.ditamap b/m_i_reltables.ditamap
index f854b65..6d94d03 100755
--- a/m_i_reltables.ditamap
+++ b/m_i_reltables.ditamap
@@ -433,7 +433,7 @@
                 <topicref href="t_i_showing_hiding_student_responses_on_assignments.xml"/>
             </relcell>
             <relcell>
-                <topicref href="t_i_showing_hiding_student_responses_for_questions.xml"/>
+                <!-- <topicref href="t_i_showing_hiding_student_responses_for_questions.xml"/> -->
             </relcell>
             <relcell/>
         </relrow>
diff --git a/r_s_choosing_between_ebooks_and_printed_textbooks.xml b/r_s_choosing_between_ebooks_and_printed_textbooks.xml
index 27eb62c..422f6ab 100755
--- a/r_s_choosing_between_ebooks_and_printed_textbooks.xml
+++ b/r_s_choosing_between_ebooks_and_printed_textbooks.xml
@@ -5,7 +5,7 @@
 xml:lang="en-us">
 <!-- generated by DCL filter dwhtm, Ver 3.3 m206 h286 -->
 <title>Choosing Between eBooks and Printed Textbooks</title>
- <shortdesc>Online textbooks&nbsp;— eBooks&nbsp;— are available for some courses in WebAssign. Depending on the
+ <shortdesc>Online textbooks — eBooks — are available for some courses in WebAssign. Depending on the
   course, the eBook might be included with WebAssign access, or it might be an optional
   purchase.</shortdesc>
 <refbody>
diff --git a/t_a_smw_entering_math.xml b/t_a_smw_entering_math.xml
index 2e9c0ce..6de8df2 100755
--- a/t_a_smw_entering_math.xml
+++ b/t_a_smw_entering_math.xml
@@ -97,7 +97,7 @@
                                 <uicontrol outputclass="keyboard">DELETE</uicontrol>.</stentry>
                         </strow>
                         <strow>
-                            <stentry>Delete the current part of the expression and its parent&nbsp;— for
+                            <stentry>Delete the current part of the expression and its parent — for
                                 example, deletes an entire fraction.</stentry>
                             <stentry>Press
                                 <uicontrol outputclass="keyboard">CTRL+DELETE</uicontrol>.</stentry>
-- 
1.7.5.4

